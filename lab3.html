<!DOCTYPE html>
	<html>
		<head>
			<title>10 Most Populated Cities in The United States</title>
			<meta charset="utf-8" />
			<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
			<link rel="stylesheet" type="text/css" href="css/own_style.css">
			<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
			<script src="js/leaflet-hash.js"></script>
			<script src="js/Autolinker.min.js"></script>
		<style>
		.leaflet-popup-content-wrapper {
		 background: #e93434;}
		</style>
		</head>
		<body>
			<div id="map"></div>
			<script src="data/exp_muralsall.js"></script>
			<script>
			var map = L.map('map', {
				zoomControl:true, maxZoom:16, minZoom: 10,
				maxBounds: [[39.88, -75.24],[40.04, -75.08]]
			})
			.fitBounds([[39.8542247612,-75.3483823147],[40.1508598556,-74.8898240997]])
			.setView([39.955486, -75.180056], 13);
			
			var hash = new L.Hash(map);
			var additional_attrib = 'created with lots of help from <a href="https://github.com/geolicious/qgis2leaf" target ="_blank">qgis2leaf</a> by <a href="http://www.geolicious.de" target ="_blank">Geolicious</a> & contributors<br>';
			var feature_group = new L.featureGroup([]);
			var raster_group = new L.LayerGroup([]);
			var basemap_0 = L.tileLayer('http://a.tile.stamen.com/watercolor/{z}/{x}/{y}.png', { 
				attribution: additional_attrib + 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data: &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors,<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'
			});	
			basemap_0.addTo(map);	
			var layerOrder=new Array();
			
			
			function pop_muralsall(feature, layer) {					
				var popupContent = '<table><tr><th scope="row">ID</th><td>' + Autolinker.link(String(feature.properties['ID'])) +  '</td></tr><tr><th scope="row">Work Name</th><td>' + Autolinker.link(String(feature.properties['Work_Name'])) + '</td></tr><tr><th scope="row">Address</th><td>' + Autolinker.link(String(feature.properties['address'])) + '</td></tr></table>';
				layer.bindPopup(popupContent);
			}
	
				var exp_muralsallJSON = new L.geoJson(exp_muralsall,{
					onEachFeature: pop_muralsall,
					pointToLayer: function (feature, latlng) {  
						return L.circleMarker(latlng, {
							radius: 4.0,
							fillColor: '#925f92',
							color: '#000000',
							weight: 1,
							opacity: 1.0,
							fillOpacity: 1.0
						})
					}
				});
			
	function onEachFeature(feature, layer) {
	       popupOptions = {maxWidth: 120};
	        if (feature.properties && feature.properties.Name) {
	        layer.bindPopup(feature.properties.url + "<br>" + feature.properties.Name, popupOptions);
	    }
		}	
		
		var geoJsonAL = [
	  {
	 "type": "FeatureCollection",
	  "features": [
	   
	    {
	      "type": "Feature",
	      "properties": {
	        "OBJECTID": 2,
	        "Name": "Summer Kaleidoscope",
	        "url": "<img src='http://muralarts.org/sites/default/files/imagecache/mural_single/2015-085_Summer_Kaleidoscope_01_0.jpg' height=100 width=100 />"
	      },
	      "geometry": {
	        "type": "Point",
	        "coordinates": [
	          -75.178577,
	          39.963808
	        ]
	      }
	    },
	    {
	      "type": "Feature",
	      "properties": {
	        "OBJECTID": 3,
	        "Name": "Peace Wall",
	        "url": "<img src='http://muralarts.org/sites/default/files/peace_0.jpg' height=100 width=100 />"
	      },
	      "geometry": {
	        "type": "Point",
	        "coordinates": [
	          -75.192319,
	          39.937113
	        ]
	      }
	    },
	    {
	      "type": "Feature",
	      "properties": {
	        "OBJECTID": 4,
	        "Name": "Micro to Macro",
	        "url":  "<img src='http://muralarts.org/sites/default/files/2013-032_Micro_Macro_08.jpg' height=100 width=100 />"
	      },
	      "geometry": {
	        "type": "Point",
	        "coordinates": [
	          -75.194604,
	          39.966153
	        ]
	      }
	    },
	    {
	      "type": "Feature",
	      "properties": {
	        "OBJECTID": 5,
	        "Name": "Healing Walls",
	        "url":  "<img src='http://muralarts.org/sites/default/files/healing%20walls%20north%20S.jpg' height=100 width=100 />"
	      },
	      "geometry": {
	        "type": "Point",
	        "coordinates": [
	          -75.147042,
	          39.998849
	        ]
	      }
	    },
	    {
	      "type": "Feature",
	      "properties": {
	        "OBJECTID": 6,
	        "Name": "Restored Spaces - Room For Growth",
	        "url":  "<img src='http://muralarts.org/sites/default/files/cshead.jpg' height=100 width=100 />"
	      },
	      "geometry": {
	        "type": "Point",
	        "coordinates": [
	          -75.228402,
	          39.975688
	        ]
	      }
	    },
	    {
	      "type": "Feature",
	      "properties": {
	        "OBJECTID": 7,
	        "Name": "The Rise and Shine murals",
	        "url": "<img src='http://muralarts.org/sites/default/files/2013-055_NPBP_Temple_2.jpg' height=100 width=100 />"
	      },
	      "geometry": {
	        "type": "Point",
	        "coordinates": [
	          -75.154318,
	          39.994536
	        ]
	      }
	    },
	    {
	      "type": "Feature",
	      "properties": {
	        "OBJECTID": 8,
	        "Name": "'We the Youth' by Keith Haring",
	        "url": "<img src='http://muralarts.org/sites/default/files/WeTheYouth_1.jpg' height=100 width=100 />"
	      },
	      "geometry": {
	        "type": "Point",
	        "coordinates": [
	          -75.179902,
	          39.938588
	        ]
	      }
	    },
	    {
	      "type": "Feature",
	      "properties": {
	        "OBJECTID": 9,
	        "Name": "Holding Grandmother's Quilt",
	        "url": "<img src='http://muralarts.org/sites/default/files/quilt.jpg' height=100 width=100 />"
	      },
	      "geometry": {
	        "type": "Point",
	        "coordinates": [
	          -75.201231,
	          39.966318
	        ]
	      }
	    },
	    {
	      "type": "Feature",
	      "properties": {
	        "OBJECTID": 10,
	        "Name": "Love Letter Train Tour",
	        "url": "<img src='pictures/images.png' height=100 width=100 />"
	      },
	      "geometry": {
	        "type": "Point",
	        "coordinates": [
	          -75.224936,
	          39.960064
	        ]
	      }
	    },
	    {
	      "type": "Feature",
	      "properties": {
	        "OBJECTID": 11,
	        "Name": "Metamorphosis",
	        "url": "<img src='https://scontent-lga3-1.xx.fbcdn.net/hphotos-xaf1/v/t1.0-9/430527_10150719401753615_1192568948_n.jpg?oh=b49111bf517bde201e4395a7ae0e0fb8&oe=5734EA0A' height=100 width=100 />"
	      },
	      "geometry": {
	        "type": "Point",
	        "coordinates": [
	          -75.187488,
	          39.974925
	        ]
	      }
	    },
	    {
	      "type": "Feature",
	      "properties": {
	        "OBJECTID": 12,
	        "Name": "In Nature Nothing Exists Alone",
	        "url": "<img src='http://muralarts.org/sites/default/files/zooh.jpg' height=100 width=100 />"
	      },
	      "geometry": {
	        "type": "Point",
	        "coordinates": [
	          -75.196619,
	          39.974677
	        ]
	      }
	    },
	    {
	      "type": "Feature",
	      "properties": {
	        "OBJECTID": 13,
	        "Name": "Philadelphia on an Half Tank",
	        "url": "<img src='http://muralarts.org/sites/default/files/Philadelphia%20on%20a%20Half%20Tank.jpg' height=100 width=100 />"
	      },
	      "geometry": {
	        "type": "Point",
	        "coordinates": [
	          -75.196838,
	          39.905595
	        ]
	      }
	    }
	  ]
	}
	  ];
	  		feature_group.addTo(map);
			var title = new L.Control();
			title.onAdd = function (map) {
				this._div = L.DomUtil.create('div', 'info');
				this.update();
				return this._div;
			};
			title.update = function () {
				this._div.innerHTML = '<h2>Philadelphia Mural Locations</h2>Lab 3'
			};
			title.addTo(map);
		
			var baseMaps = {
			'Stamen Watercolor': basemap_0	};
			L.control.layers(baseMaps,{"All Murals": exp_muralsallJSON},{collapsed:false}).addTo(map);
				L.geoJson(geoJsonAL, {
					 onEachFeature: onEachFeature
				}).addTo(map);
		</script>
	</body>
	</html>
